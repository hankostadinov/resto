<!doctype html>
<html lang="bg">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ресто (EUR или BGN) — курс 1.95583</title>
  <style>
    :root{
      --bg:#f6f8fc;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#475569;
      --border: rgba(15,23,42,.14);
      --shadow: 0 18px 40px rgba(2,6,23,.12);
      --radius: 16px;
      --warn:#b91c1c;

      --blue:#2563eb;
      --green:#16a34a;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(900px 520px at 15% -10%, rgba(37,99,235,.14), transparent 60%),
        radial-gradient(800px 520px at 95% 10%, rgba(22,163,74,.12), transparent 55%),
        var(--bg);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 22px;
    }
    .card{
      width: min(980px, 100%);
      background: var(--card);
      border:1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px;
    }
    h1{font-size: 20px; margin:0 0 10px}
    .hint{color: var(--muted); margin:0 0 14px; font-size:14px; line-height:1.35}

    .grid{display:grid; gap:12px}
    label{font-size: 13px; color: var(--muted); display:block; margin-bottom:8px}

    .inlineField{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
    }
    input{
      padding: 12px 12px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: #fff;
      color: var(--text);
      outline: none;
      font-size: 16px;
      font-variant-numeric: tabular-nums;
      height: 44px;
      width: 240px;
      max-width: 100%;
    }

    button.action{
      cursor:pointer;
      border:1px solid var(--border);
      background: #fff;
      color: var(--text);
      padding: 11px 14px;
      border-radius: 12px;
      font-weight: 900;
      white-space:nowrap;
      height: 44px;
    }
    .ghost{background: rgba(2,6,23,.03) !important}
    .primary{
      border-color: transparent !important;
      background: linear-gradient(135deg, rgba(37,99,235,.95), rgba(22,163,74,.85)) !important;
      color:#fff !important;
    }

    .toggle{
      display:inline-flex;
      border:1px solid var(--border);
      border-radius: 12px;
      overflow:hidden;
      height:44px;
      background: rgba(2,6,23,.03);
    }
    .toggle button{
      border:0;
      background: transparent;
      padding: 0 14px;
      cursor:pointer;
      font-weight:900;
      color: var(--muted);
      height:44px;
    }
    .toggle button.active{ color:#fff }
    #billBGNBtn.active{ background: var(--green); }
    #billEURBtn.active{ background: var(--blue); }

    /* ✅ КОРЕКЦИЯТА Е ТУК */
    .billTop{
      display:flex;
      align-items:center;
      gap:8px;      /* контролира колко е близо текста */
      flex-wrap:wrap;
    }
    .billStatus{
      font-size: 13px;
      color: var(--muted);
      font-weight: 900;
      white-space: nowrap;
    }
    /* ==================== */

    .result{
      margin-top: 12px;
      padding: 14px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(37,99,235,.06);
      display:grid;
      gap:12px;
    }
    .resultGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }
    .kpi{
      border: 1px solid rgba(15,23,42,.10);
      background: rgba(255,255,255,.6);
      border-radius: 12px;
      padding: 10px 12px;
    }
    .kpi .small{color: var(--muted); font-size: 13px}
    .kpi .big{font-size: 34px; font-weight: 900}
    #eur.big{ color: var(--blue); }
    #bgn.big{ color: var(--green); font-size: 26px; }

    #info{color: var(--muted); font-size: 13px}
    .warn{color: var(--warn)}

    .btns{display:flex; gap:10px; margin-top:12px; flex-wrap:wrap}
  </style>
</head>

<body>
<main class="card">
  <h1>Ресто (EUR или BGN)</h1>

  <div class="grid">
    <div>
      <label>Обща сметка на клиента</label>

      <div class="billTop">
        <div class="toggle">
          <button id="billEURBtn" class="active" type="button">EUR</button>
          <button id="billBGNBtn" type="button">BGN</button>
        </div>
        <div class="billStatus" id="billHint">Сметката е в евро (EUR).</div>
      </div>

      <div class="inlineField" style="margin-top:8px">
        <input id="bill" placeholder="напр. 23.40">
        <button class="action ghost" id="clearBillBtn">Изчисти</button>
      </div>
    </div>

    <div>
      <label>Дадени пари (лв)</label>
      <div class="inlineField">
        <input id="paid" placeholder="напр. 50.00">
        <button class="action ghost" id="clearPaidBtn">Изчисти</button>
      </div>
    </div>

    <div class="result">
      <div class="resultGrid">
        <div class="kpi">
          <div class="small">Ресто (EUR)</div>
          <div id="eur" class="big">0.00</div>
        </div>
        <div class="kpi">
          <div class="small">Ресто (BGN)</div>
          <div id="bgn" class="big">0.00</div>
        </div>
      </div>
      <div id="info"></div>
    </div>

    <div class="btns">
      <button class="action primary" id="calcBtn">Изчисли</button>
      <button class="action" id="clearAllBtn">Изчисти всичко</button>
    </div>
  </div>
</main>

<script>
  const RATE = 1.95583;

  const billEl = document.getElementById('bill');
  const paidEl = document.getElementById('paid');
  const eurEl = document.getElementById('eur');
  const bgnEl = document.getElementById('bgn');
  const infoEl = document.getElementById('info');
  const billHint = document.getElementById('billHint');

  const billEURBtn = document.getElementById('billEURBtn');
  const billBGNBtn = document.getElementById('billBGNBtn');

  let billCurrency = "EUR";

  function parse(v){ return Number(v.replace(',','.')) }

  function calc(){
    const bill = parse(billEl.value);
    const paid = parse(paidEl.value);

    if(!isFinite(bill)||!isFinite(paid)){
      eurEl.textContent=bgnEl.textContent="0.00";
      infoEl.textContent="Въведи валидни числа.";
      return;
    }

    const billBGN = billCurrency==="BGN" ? bill : bill*RATE;
    const change = paid - billBGN;

    if(change<0){
      eurEl.textContent=bgnEl.textContent="0.00";
      infoEl.textContent=`Недостиг ${Math.abs(change).toFixed(2)} лв`;
      return;
    }

    const eur = Math.round((change/RATE)*100)/100;
    eurEl.textContent=eur.toFixed(2);
    bgnEl.textContent=change.toFixed(2);

    infoEl.textContent=`Ресто: ${change.toFixed(2)} лв (${eur.toFixed(2)} EUR)`;
  }

  billEURBtn.onclick=()=>{
    billCurrency="EUR";
    billEURBtn.classList.add('active');
    billBGNBtn.classList.remove('active');
    billHint.textContent="Сметката е в евро (EUR).";
    calc();
  };

  billBGNBtn.onclick=()=>{
    billCurrency="BGN";
    billBGNBtn.classList.add('active');
    billEURBtn.classList.remove('active');
    billHint.textContent="Сметката е в лева (BGN).";
    calc();
  };

  document.getElementById('calcBtn').onclick=calc;
  document.getElementById('clearBillBtn').onclick=()=>billEl.value='';
  document.getElementById('clearPaidBtn').onclick=()=>paidEl.value='';
  document.getElementById('clearAllBtn').onclick=()=>{
    billEl.value=paidEl.value='';
    eurEl.textContent=bgnEl.textContent="0.00";
    infoEl.textContent='';
  };
</script>
</body>
</html>

